// axios.get(`https://maps.googleapis.com/maps/api/place/textsearch/json?query=籃球場&location=${position.coords.latitude},${position.coords.longitude}&radius=10000&key=AIzaSyAOCD6zBK2oD6Lrz3gN5zNxM-GNDatpE-o`, config)
        // .then(data => {
        //     data.results.forEach(place => {
        //             //存入 DB
        //         db.collection("locations").doc(place.id).set({
        //             id: place.id,
        //             name: place.name,
        //             address: place.formatted_address,
        //             lat: place.geometry.location.lat,
        //             lng: place.geometry.location.lng,
        //             global_code: place.plus_code.global_code
        //         })
        //         .then(function() {
        //             console.log("Document successfully written!");
        //             //改變狀態
        //             this.setState({
        //                 court: {
        //                     id: place.id,
        //                     name: place.name,
        //                     address: place.formatted_address,
        //                     lat: place.geometry.location.lat,
        //                     lng: place.geometry.location.lng,
        //                     global_code: place.plus_code.global_code
        //                 }
        //             })
        //         })
        //         .catch(function(error) {
        //             console.error("Error writing document: ", error);
        //         });
        //     })
        //     this.setState({
        //         isLoading: false
        //     })
        // })


        fetchPlaces = (mapProps, map) => {
        const { initialLat, initialLng } = this.props;
        const { google } = mapProps;
        const service = new google.maps.places.PlacesService(map);
        const currentPosition = new google.maps.LatLng(initialLat,initialLng);
        const request = {
            location: currentPosition,
            radius: '50',
            query: 'basketball'
        };
        const placesArray = [];
        service.textSearch(request, data => {
            console.log(data)
            data.forEach(place => {
                let id = place.place_id;
                let name = place.name;
                let placeLat = place.geometry.location.lat();
                let placeLng = place.geometry.location.lng();
                let formatted_address = place.formatted_address;
                let plus_code = place.plus_code;
                let photo = '';
                if(place.photos){
                    photo = place.photos[0].getUrl();
                }
                placesArray.push({
                    id,
                    name,
                    placeLat,
                    placeLng,
                    formatted_address,
                    plus_code,
                    photo: photo || null
                })
            })
            this.setState({
                targetPlaces: placesArray
            })
        });
    }
